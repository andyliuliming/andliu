package ostc.sh.webconsole.oauth;

import static org.junit.Assert.*;

import org.junit.Test;

public class SignInVerifierTest {

	@Test
	public void testGetTokenFromCode() {
		SignInVerifier verifier=new 
				SignInVerifier();
		//String token=(verifier.GetTokenFromCode("AAABAAAAiL9Kn2Z27UubvWFPbm0gLXBZOsGG3UYi9b6HPnHGYu8KzqBDZ_C25QtsMgxgo1WvMCGzfrK14ULquScCotDaOMpZt96XcJ5fgYVCnIZjxEZ7XEoLZPQkmS1AFyXkeRX1H3-pG3VK_6hYvhN1vWbacXzftxrl0u8d2pTEFWeHC4AvlFU_IcCsR3OKFMqLHL-3XTX8gXzLqiY36qi_pIJ292RWtGM2LN_B60zeujFhlFciImgiC0YUbaaoIxdKL1plj-aBOy3KyMh1f6I1tslyv2rGtcqY87I_zTlSM7LBDThEfTDoWROXii0prPeHW-TkYzL6wvb2SP3VN4CYf9-CsFHJH5A8Wsb4wJkOXkHcEElXdaUDNTejR0ug1Qu3dIjyb4SI0vXmsDuVWv8HMxo-6tlt_95rm-AtRkF2HolHtsGU64LQy9ojPBC79x8LbC-7aBibzVruA5KuAt_R_NBx-hKFvnxq-pj0A7Z40Z6qM5YKTEsdqm5ibAMcu8yET0YDvDs5sqwt17Oc_sBKwq77QjGubpI1Xw6G8cSg2fRtEzCapU8G7jf_RlBRKq5P8fwxseLVFiy33Rd1DZolT0vq2CAA"));

		String token="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiI0NWM2ZmFiYS0zNmI4LTRhMTItYmNmYi1mODZmNDcyODU4NGEiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83MmY5ODhiZi04NmYxLTQxYWYtOTFhYi0yZDdjZDAxMWRiNDcvIiwiaWF0IjoxNDMwOTAyMDY2LCJuYmYiOjE0MzA5MDIwNjYsImV4cCI6MTQzMDkwNTk2NiwidmVyIjoiMS4wIiwidGlkIjoiNzJmOTg4YmYtODZmMS00MWFmLTkxYWItMmQ3Y2QwMTFkYjQ3Iiwib2lkIjoiYjZiZWQ0ZjAtMDQ0Zi00ZTNhLWFlZWQtZjU0NGIyYjk1YWUyIiwidXBuIjoiYW5kbGl1QG1pY3Jvc29mdC5jb20iLCJzdWIiOiJGbHRjUGpQX2lmQlZIN296MkJWMFg0UXVvN2M3VXU2U2V0SVRRVy1TU3o4IiwiZ2l2ZW5fbmFtZSI6IkFuZHkiLCJmYW1pbHlfbmFtZSI6IkxpdSIsIm5hbWUiOiJBbmR5IExpdSIsImFtciI6WyJwd2QiXSwidW5pcXVlX25hbWUiOiJhbmRsaXVAbWljcm9zb2Z0LmNvbSIsIm5vbmNlIjoiNzM2MkNBRUEtOUNBNS00QjQzLTlCQTMtMzREN0MzMDNFQkE3IiwicHdkX2V4cCI6IjMyMjM1MDMxIn0.GeSoAOlSMz7mwIu6EQpqRHq7U6FsvMk0Bt7WlJWQEAKB5LVHrd4RSQ_AVzKeVbeybm6emuieEzGInYThABf3XwBwMS3GVlzK8Izdej0Cr-joDyfkPYoIiY1lx4PaeRUC2OLcxPkzMJlJYIIPLJxwS1P3Y6dZ8za86h5o1aRNAw5Duo9mzULgGTiZIyPhCVtPS4Y7PTQZZEhNlSyT5XiFMJZ7LSCtQBRFs8XCfiiAsXI3OqqLES4tWp-w0xsnvf3gnUT3TPU4_xrQPa49fqx5RTLX_A-xczvC_5cS_YVgerR5aqUtvayHMtLvgSnVIBHgJnxMiYuILVfXyj-9GOVZsg";
		System.err.println(token);
		/* sample output:
		we are now getting the token via...AAABAAAAiL9Kn2Z27UubvWFPbm0gLVO6YzSlDsgg0ICMw5bzKKYpFq4QsLeasUmREA6qufnNsZtq9L3MhMKx47B0TqfKcw0XWOpfxWpweQXr-hs75-7JgOjKjNKiWr0mCVm_1XVc5FHdZ-mAhuwjZHx05XXWG1DXThoSmc2GOiw8BRPFtIfscLSiSlBVox9fhTxQPHsOzEQh5AvcMud470csFbJJyDKja-RBNmAOB69OTnoD6LKRneEJd17Kb-pO18uSAHglnP4a_tANsZlknaf0Vm3b-JevT6rgGSeyR3wbBRR5WZ-XDFe26dogVifvkHjLi0ekmo1jC8dMGHKbUJxdLtc41b5wRNbMtHcGRg6CpcU2cONL7Og1dViwwCRCauqR968yo4JqmiUI2rRTAwe06B_axIALfWJAp31UK_DFZAr_rvrI2OC5yhgBFajdZdvbE7lm_uWyw2D4mo3WrKkViq1fdJ76W83UnMyFq51DpbWSMQ_dVeGYcN495VEbaeFTbOnrenOsc2_vYcQY45PnYgKNB_KgkDUA_4epM8Rj2qOJ6D8whnY4N-g0kMcgLwCupfItDlN9lk1WC2UJ_RszwNjPkCAA
		grant_type=authorization_code&code=AAABAAAAiL9Kn2Z27UubvWFPbm0gLVO6YzSlDsgg0ICMw5bzKKYpFq4QsLeasUmREA6qufnNsZtq9L3MhMKx47B0TqfKcw0XWOpfxWpweQXr-hs75-7JgOjKjNKiWr0mCVm_1XVc5FHdZ-mAhuwjZHx05XXWG1DXThoSmc2GOiw8BRPFtIfscLSiSlBVox9fhTxQPHsOzEQh5AvcMud470csFbJJyDKja-RBNmAOB69OTnoD6LKRneEJd17Kb-pO18uSAHglnP4a_tANsZlknaf0Vm3b-JevT6rgGSeyR3wbBRR5WZ-XDFe26dogVifvkHjLi0ekmo1jC8dMGHKbUJxdLtc41b5wRNbMtHcGRg6CpcU2cONL7Og1dViwwCRCauqR968yo4JqmiUI2rRTAwe06B_axIALfWJAp31UK_DFZAr_rvrI2OC5yhgBFajdZdvbE7lm_uWyw2D4mo3WrKkViq1fdJ76W83UnMyFq51DpbWSMQ_dVeGYcN495VEbaeFTbOnrenOsc2_vYcQY45PnYgKNB_KgkDUA_4epM8Rj2qOJ6D8whnY4N-g0kMcgLwCupfItDlN9lk1WC2UJ_RszwNjPkCAA&redirect_uri=https%3A%2F%2Fandliu.blob.core.windows.net%2Flimingwebconsole%2FWebConsoleJNLP.html&client_id=8aae891a-37fe-4883-856e-7d1247ec6ed5&client_secret=Mc41a9sX2YBpyUFtKZz2FlM8UqAxWM79BzNm%2F9SfQ%2FE%3D&resource=https%3A%2F%2Fmanagement.core.windows.net%2F
		{"token_type":"Bearer","expires_in":"3599","expires_on":"1430809575","not_before":"1430805675","resource":"https://management.core.windows.net/","access_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSIsImtpZCI6Ik1uQ19WWmNBVGZNNXBPWWlKSE1iYTlnb0VLWSJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuY29yZS53aW5kb3dzLm5ldC8iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kYmViNGRjYi1lNjVlLTQ0ZGQtODU1My00ZTJhYmNkZjA2ODQvIiwiaWF0IjoxNDMwODA1Njc1LCJuYmYiOjE0MzA4MDU2NzUsImV4cCI6MTQzMDgwOTU3NSwidmVyIjoiMS4wIiwidGlkIjoiZGJlYjRkY2ItZTY1ZS00NGRkLTg1NTMtNGUyYWJjZGYwNjg0IiwiZW1haWwiOiJhbmR5bGl1bGltaW5nQG91dGxvb2suY29tIiwiaWRwIjoibGl2ZS5jb20iLCJhbHRzZWNpZCI6IjE6bGl2ZS5jb206MDAwM0JGRkRCMTI1NDJFOCIsInN1YiI6IldJOXdNWFo0UlVHVlpYdXBYSVBBWFJRMHFaTGVWM0VUUE5vY2RpLUhpVDAiLCJnaXZlbl9uYW1lIjoiTGltaW5nIiwiZmFtaWx5X25hbWUiOiJMaXUiLCJhbXIiOlsicHdkIl0sInVuaXF1ZV9uYW1lIjoibGl2ZS5jb20jYW5keWxpdWxpbWluZ0BvdXRsb29rLmNvbSIsImFwcGlkIjoiOGFhZTg5MWEtMzdmZS00ODgzLTg1NmUtN2QxMjQ3ZWM2ZWQ1IiwiYXBwaWRhY3IiOiIxIiwic2NwIjoidXNlcl9pbXBlcnNvbmF0aW9uIiwiYWNyIjoiMSJ9.WmuMQrNBcuUDg1jZcfnFXFznBIwP3pcCtf4vV1m5_nxtYxqSzKH34eHWlBa35mtxM4aqJOn1qbgcJQ6Hy7iRvqZIuQLB40JJx7f83G9yTKUmSXuy3BNqFIO1bYzsNWhQaiqiKVTZkazz151kwzwgoMUbDGpfFdomiv0fKD-B9cn4aG9j439s0pBUplEL7u1navVPKwN5qL25I5yxh_m1R7icYWH34t8URNfX-z7Br11TRznbqQYElMQUAe5pBCI-_ZzyMhK99ddmIREUSj1qoM391_EGJaTJzPacslLX4f1CtG3kOjjdnwy7Z4xbHH3hSuSFJTNCw63HAje4Sno9tQ","refresh_token":"AAABAAAAiL9Kn2Z27UubvWFPbm0gLR9YZ-hO1_kyooViTWjkJ9qSH8JHmV6VHuMfxo6IIoIkLQou-ouKUf8nzYnL4EMWiSNPS1LoXe_mMmq-mF7QJvbGWOv64BXG-zSDfpt9DJwzForI0oqZiOrxwgDM8xmFAQ1MIEO8Frot9rZW6hhZpYowWPT25stPiEuYaE-bcRTbyacvx3BN6lnT5HN4rR38vqTJLNcbZKm4mWU2SBEoxw4Pel2Uaw2ynflUXxstBcyAcSO6FsvYZB29Qy2_tb3fP3khU9sHNx9VKjPcHS11ZPdiuh89fN5ZhKpHEulASiKcAI0C5IkmmbYFv6z2RDFEw8E1OknkDEkSAH8ioTIATxAJLlDDlgWCyJWuNUtB6sR3dShrFjQCRce997RoyiWXECj6zCrW3bfzxu7Ec0EuNWtoEIHAJhB9Y4uGaYvS8rl7SnA_yATRycmAwJZjqzsCInAXN381RiZ3EC4fXEzXjrb3Zbt2Tou-p_ezaSpPDNAaNREletR0iSayig5oW_qH-MyFAMIJufG1eZQuEdx30nxreX0kqkWTj01pTr6G6AgCI9GHS9-YKA1g-Bzi50oLYakZbYUzYv99zT1dW17jpXcgAA","scope":"user_impersonation","id_token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJub25lIiwia2lkIjpudWxsfQ.eyJhdWQiOiI4YWFlODkxYS0zN2ZlLTQ4ODMtODU2ZS03ZDEyNDdlYzZlZDUiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kYmViNGRjYi1lNjVlLTQ0ZGQtODU1My00ZTJhYmNkZjA2ODQvIiwiaWF0IjoxNDMwODA1Njc1LCJuYmYiOjE0MzA4MDU2NzUsImV4cCI6MTQzMDgwOTU3NSwidmVyIjoiMS4wIiwidGlkIjoiZGJlYjRkY2ItZTY1ZS00NGRkLTg1NTMtNGUyYWJjZGYwNjg0IiwiZW1haWwiOiJhbmR5bGl1bGltaW5nQG91dGxvb2suY29tIiwiaWRwIjoibGl2ZS5jb20iLCJzdWIiOiJ0TmJNdVVDNnc1MXhTak01MTZQYlV2VUhvR0VQQXV2amdseHVvclU5OUhzIiwiZ2l2ZW5fbmFtZSI6IkxpbWluZyIsImZhbWlseV9uYW1lIjoiTGl1IiwiYW1yIjpbInB3ZCJdLCJ1bmlxdWVfbmFtZSI6ImxpdmUuY29tI2FuZHlsaXVsaW1pbmdAb3V0bG9vay5jb20ifQ."}

		*/
		boolean b = verifier.InWhiteList
				(token	,"andliu.blob.core.windows.net/limingwebconsole/whitelist.txt");
		
		
	/*	<Subscriptions xmlns="http://schemas.microsoft.com/windowsazure" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
		<Subscription><SubscriptionID>ea79f41d-f4f9-427b-b834-07c083b28a39</SubscriptionID>
		<SubscriptionName>Windows Azure MSDN - Visual Studio Ultimate</SubscriptionName>
		<SubscriptionStatus>Active</SubscriptionStatus>
		<AccountAdminLiveEmailId>andyliuliming@outlook.com</AccountAdminLiveEmailId>
		<ServiceAdminLiveEmailId>andyliuliming@outlook.com</ServiceAdminLiveEmailId>
		<MaxCoreCount>20</MaxCoreCount>
		<MaxStorageAccounts>100</MaxStorageAccounts>
		<MaxHostedServices>20</MaxHostedServices>
		<CurrentCoreCount>4</CurrentCoreCount><
		CurrentHostedServices>5</CurrentHostedServices>
		<CurrentStorageAccounts>2</CurrentStorageAccounts>
		<MaxVirtualNetworkSites>50</MaxVirtualNetworkSites>
		<MaxLocalNetworkSites>20</MaxLocalNetworkSites>
		<MaxDnsServers>20</MaxDnsServers>
		<OfferCategories>Azure_MS-AZR-0050P;Azure_Platform_All;Azure_Paid;Azure_Hidden;Azure_Consumption;Azure_MSDN;Azure_Credit</OfferCategories>
		<AADTenantID>2304b749-e0d7-46b3-98fd-bbbc634cb510</AADTenantID>
		<CreatedTime>2012-10-09T04:20:13Z</CreatedTime><MaxReservedIPs>20</MaxReservedIPs>
		<CurrentReservedIPs>5</CurrentReservedIPs>
		<MaxPublicIPCount>5</MaxPublicIPCount>
		<CurrentNetworkSecurityGroups>0</CurrentNetworkSecurityGroups>
		<MaxNetworkSecurityGroups>100</MaxNetworkSecurityGroups>
		<MaxNetworkSecurityRulesPerGroup>200</MaxNetworkSecurityRulesPerGroup>
		<MaxRouteTables>100</MaxRouteTables>
		<MaxRoutesPerRouteTable>100</MaxRoutesPerRouteTable></Subscription></Subscriptions>*/

	}

	@Test
	public void testInWhiteList() {
		
	}

}
