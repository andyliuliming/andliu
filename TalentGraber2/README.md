# azureimagehost

---

# Preface

Before we start to implement the functions, I'm not sure whether the performance of the service is OK, since the performance test is not quite satisfacting.

---

# Done List

- Direct upload & download without authentication.
- Using odata queries to query the the image.
- Added the image process framework.

---

# Todo List

- Implement online file operations of the service
  - Exif
  - Picture information
  - Move picture
  - Copy picture
  - Delete picture
- Add authentication to upload and download
  - Using access key and secret key for the users
  - Using token method to decide the policy of the upload/download process
    - There are two token policies
    - First, the token is generated by the customer, signatured, then customer can use the token according to the token policy before the token expire
    - Second, the token is generated by the server, this is more save because the random generated token contains no information of the original information, but requires a token generation call before the process.
- Whether we should add a admin user and let it control the access authentication of the operators?
- Add domain control to the visitors of the picture.
- Make the service suffer high pressure
  - Using traffice manager to let the service loaded on difference tenent.
  - Since our service can save pictures in redis, and it can automatically load balance. I'm not sure the influence of the limit of 500 connections of the storage account, since it only causes a slow start.

---

# Test List

First, the automation test should include every part of our functions, this can be done using the *Test* attribute of .NET to implement test cases.

Test cases structure:

- Basic Client
  - Authentication Client
    - Exif/Info/Move/Copy/Delete picture operations
    - Admin operations
  - Token Client
    - Upload token
      - Token generation
      - Upload pictures according to the token policy
      - Upload pictures not according to the token policy
      - Token expire
    - Download token
      - Token generation
      - Download pictures according to the token policy
      - Download pictures not according to the token policy
      - Token expire
  - Visitors
    - Visitors have no authorities to the picture
    - Visitors have full access to the picture
    - Visitors have access to the picture & within the domain range
    - Visitors have access to the picture & outside the domain range
- High pressure test
